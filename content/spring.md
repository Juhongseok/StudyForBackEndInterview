# Spring

<br>

### 프레임워크
응용 프로그램이나 소프트웨어 솔루션 개발을 수월하기 위해 틀이 제공된 소프트웨어 환경

### Spring
자바 플랫폼을 위한 오픈 소스 애플리케이션 프레임워크
- POJO 기반의 구성으로 자바 코드를 이용해서 객체를 구성하는 방식 그대로 스프링에서 사용할 수 있다
- DI
- AOP
- MVC구조

### DI(Dependency Injection)
의존성에 대한 설계 패턴

의존 객체를 외부로부터 전달 받는 구현 방식

스프링에서는 클래스 사이의 의존관계를 bean 설정을 통해 컨테이너가 자동으로 연결 해준다

- 장점
    - 설정을 통해서 연관관계를 맺어줌으로 객체간 결합도를 낮춰준다
    - 유지보수가 편해진다
    - unit test시 mock객체를 사용해 수월하게 진행가능하다
- 단점
    - 의존성 주입을 위한 선행 과정이 필수적이다

### 주입 방식
- 생성자 방식
    - 생성자 호출 시 1회 호출
    - final 키워드를 이용하여 불변으로 설계 가능
    - 누락을 방지 할 수 있음
    - 가장 권장 되는 방식
- 프로퍼티 방식
    - Setter를 통해서 주입
    - Setter를 public으로 열어야 하기에 추후 실수 혹은 의도적으로 변경될 가능성 배제할 수 없음
- 필드 방식
    - 외부에서 변경이 불가능 하여 테스트시 어렵다

### Bean
- 컨테이너 안에 들어있는 객체

- 필요할 때 언제든지 가져다가 사용 가능

- `@Bean`혹은 xml을 사용해 등록

### 서블릿
WAS안에서 동적인 페이지를 만드는데 사용되는 서버 프로그램

서블릿을 사용하면서 개발자는 서비스 로직에만 집중할 수 있게 되었다

흔히 말하는 MVC패턴에서 View에 해당하는 역할을 수행하게 된다

### MVC 패턴
- Model, View, Controller로 분리하는 아키텍처
- 기능별로 코드를 분리하여 가독성과 재사용성이 높아진다
- View와 Model 사이 의존성이 높아지면 유지보수가 어려워진다

### 하나의 컨트롤러 여러 요청
컨트롤러는 기본적으로 스프링 빈 컨테이너에 올라가 싱글톤 패턴으로 구현되어있기 때문에 여러 스레드의 요청이 들어와도 하나의 컨트롤러 객체를 공유하면서 처리한다.
여기서 주의할 점은 싱글톤 패턴으로 구현되어 있어 있다는 것은 Thread-Safe하지 않다는 의미이므로 상태를 공유하거나 저장하는 코드가(전역변수와 같은 코드) 없도록 Stateless하게 정의해야 한다.
결과적으로 내부에는 상태가 존재하지 않으니 메서드에 대한 정보만 같이 공유해서 쓰는 것이다.

